local GuiLibrary = {}

-- Function to make frames draggable
function GuiLibrary.makeDraggable(frame, window)
    local dragging = false
    local dragStart = nil
    local startPos = nil

    local function onDragStart(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = window.Position

            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end

    local function onDragInput(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            if dragging then
                local delta = input.Position - dragStart
                window.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
            end
        end
    end

    frame.InputBegan:Connect(onDragStart)
    frame.InputChanged:Connect(onDragInput)
end

-- Function to create a ScreenGui
function GuiLibrary.createScreenGui()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    return screenGui
end

-- Function to create a Window
function GuiLibrary.createWindow(parent)
    local window = Instance.new("Frame", parent)
    window.Name = "Window"
    window.BackgroundColor3 = Color3.fromRGB(44, 44, 44)
    window.BorderSizePixel = 0
    window.Size = UDim2.new(0, 300, 0, 250)
    window.Position = UDim2.new(0.5, -150, 0.5, -125)
    window.ZIndex = 2

    local titleFrame = Instance.new("Frame", window)
    titleFrame.Name = "TitleFrame"
    titleFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    titleFrame.Size = UDim2.new(1, 0, 0, 24)
    titleFrame.ZIndex = 2

    local title = Instance.new("TextLabel", titleFrame)
    title.Name = "Title"
    title.BackgroundTransparency = 1
    title.Size = UDim2.new(1, 0, 1, 0)
    title.Font = Enum.Font.GothamBold
    title.Text = "Minty Hub"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.TextSize = 18
    title.ZIndex = 3

    -- Make the entire window draggable
    GuiLibrary.makeDraggable(titleFrame, window)

    local tabFrame = Instance.new("Frame", window)
    tabFrame.Name = "TabFrame"
    tabFrame.BackgroundColor3 = Color3.fromRGB(55, 55, 55) -- Tab frame color
    tabFrame.BorderSizePixel = 0
    tabFrame.Size = UDim2.new(1, 0, 0, 24) -- Tab frame size
    tabFrame.Position = UDim2.new(0, 0, 0, titleFrame.Size.Y.Offset) -- Positioned right below the title frame
    tabFrame.ZIndex = 2

    window.TabFrame = tabFrame -- Store a reference to the tab frame for later use


    return window
end


-- Function to create a Button within a Tab
function GuiLibrary.createButton(tab, name, callback)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Parent = tab
    button.Text = name
    button.Size = UDim2.new(0, 200, 0, 50) -- Size of button as a perpendicular rectangle
    button.Position = UDim2.new(0.5, -100, 0, 0) -- Centered within the tab
    button.AnchorPoint = Vector2.new(0.5, 0) -- Anchor point set to center the button
    button.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Font = Enum.Font.SourceSans
    button.TextSize = 18
    button.ZIndex = 2

    button.MouseButton1Click:Connect(callback)

    return button
end


-- Create the main GUI container
local screenGui = GuiLibrary.createScreenGui()

-- Create the window with the title hardcoded to "Shyde Hub" in the library
local window = GuiLibrary.createWindow(screenGui)

-- Create a button inside the window
local button = GuiLibrary.createButton(window, "Reset Aimbot System", function()
    print("Reset Aimbot System button was clicked")
end)
